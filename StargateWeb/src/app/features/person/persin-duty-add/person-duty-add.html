<p-dialog header="Add Duty" [modal]="true" [visible]="visible()" 
      (onHide)="visible.set(false)" [style]="{ width: '25rem' }">
    <form [formGroup]="form" class="flex flex-col gap-4 w-full">
        <input type="hidden" formControlName="name" />
        <div class="flex flex-col gap-1">
            <input pInputText id="rank" placeholder="Rank" formControlName="rank" [invalid]="isInvalid(form.controls.rank, formSubmitted)" />
            @if (isInvalid(form.controls.rank, formSubmitted)) {
                <p-message severity="error" size="small" variant="simple">Rank is required.</p-message>
            }
        </div>
        <div class="flex flex-col gap-1">
            <input pInputText id="duty-title" placeholder="Duty Title" formControlName="dutyTitle" [invalid]="isInvalid(form.controls.dutyTitle, formSubmitted)" />
            @if (isInvalid(form.controls.dutyTitle, formSubmitted)) {
                <p-message severity="error" size="small" variant="simple">Duty Title is required.</p-message>
            }
        </div>
        <div class="flex flex-col gap-1">
            <p-datepicker fluid placeholder="Duty Start Date" formControlName="dutyStartDate" appendTo="body" [invalid]="isInvalid(form.controls.dutyStartDate, formSubmitted)" />
            @if (isInvalid(form.controls.dutyStartDate, formSubmitted)) {
                <p-message severity="error" size="small" variant="simple">Duty Start Date is required.</p-message>
            }
        </div>
        <div class="flex justify-end gap-2">
            <p-button label="Cancel" severity="secondary" (click)="cancel()" />
            <p-button label="Add" (click)="add()" />
        </div>
    </form>
</p-dialog>